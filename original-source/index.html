<!--
 * HROECalc – Return on Investment for Ethics in AI Calculator
 * Release: v0.85 (2025-01-01)
 * Release Notes: docs/releases/v0.85.md
 * SPDX-License-Identifier: MIT
 * Original Author: Jose De Jesus (jdejesus@us.ibm.com)
 * Additional contributors listed in CONTRIBUTORS.md
 *
 * The HROE Framework Calculator (“Calculator”) is an implementation of 
 * research conducted jointly by IBM and the University of Notre Dame through
 * the Notre Dame–IBM Technology Ethics Lab. The corresponding research paper 
 * is available at: https://arxiv.org/pdf/2309.13057
 *
 * Copyright IBM Corp. 2024–2025. All Rights Reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy 
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the Software is furnished
 * to do so, subject to the following conditions:
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN 
 * THE SOFTWARE.
 *
 * The above notice, including all attribution, copyright, and permission statements,
 * shall be included in all copies or substantial portions of the Software.
 -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <title id="page-title">ROI in AI Ethics Framework Calculator v0.8.5</title>
    <!-- Link to the main stylesheet for the calculator's appearance -->
    <link rel="stylesheet" href="styles/hroe.css">
    <!-- Link to jsPDF library for PDF generation functionality -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.0/jspdf.umd.min.js"></script>
</head>

<body>
    <!-- Main container for the entire calculator interface -->
    <div class="container">
        <!-- Flipper mechanism for potentially switching between front and back views (e.g., calculator vs. explanation) -->
        <div class="flipper" id="flipper">
            <!-- Front side of the flipper, containing the main calculator interface -->
            <div class="front">
                <!-- Language selection dropdown -->
                <div class="enlargefont" style="--fontsize: 16px; color:black;">
                    <div style="position: absolute; top: 7px; right: 33px;">
                        <label for="language">Language:</label>
                        <select class="enlargefont" style="--fontsize: 16px;" id="language">
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="it">Italian</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="zh">Chinese</option>
                            <option value="ja">Japanese</option>
                        </select>
                    </div>
                </div>
                <!-- Header section of the calculator -->
                <div class="header">
                    <h1 id="page-title">ROI in AI Ethics Framework Calculator v0.8.5</h1>
                    <div class="paperbutton" id="read-paper" onclick="togglePanel()">Read the Paper</div>
                </div>
                <!-- Information panel displayed by default, providing context on holistic assessment -->
                <div class="info-panel" id="explanationPanelDefault">
                    <img src="icons/notification.svg" alt="Information Icon"
                        style="width: 24px; height: 24px; position:relative;top:-2px;vertical-align: middle;">
                    The return on investments in AI ethics and governance initiatives should be
                    assessed holistically. While this calculator provides a helpful tool for assessing quantifiable
                    returns, a holistic assessment should also include returns and impacts that are qualitative in
                    nature. It is important to consider a broad set of stakeholders and the impact on society at
                    large during the holistic assessment process.
                    <!-- Link to open the disclaimer modal -->
                    <a href="#" onclick="openDisclaimer();">Additional Information</a>.
                </div>
                <!-- Disclaimer Modal (Hidden by default, appears on click of "Additional Information") -->
                <div id="disclaimerModal" class="modal">
                    <div class="modal-content">
                        <!-- Close button for the modal -->
                        <a class="close" id="closeDisclaimer" onclick="closeDisclaimer()">
                            <img src='icons/close--large.svg'>
                        </a>
                        <!-- Copyright and title for the modal -->
                        <div><img src="icons/ibm-logo.png" style="display:inline;height:30px; width:70px">
                            <h3>Copyright &copy; IBM Corporation, 2024</h3>
                        </div>
                        <!-- Disclaimer text sections -->
                        <p>This HROE Framework Calculator (“Calculator”) is an implementation of the research
                            undertaken jointly by IBM and the University of Notre Dame through the Notre Dame-IBM
                            Technology Ethics Lab. Read the research paper (<a href="#"
                                onclick="togglePanel();">https://arxiv.org/pdf/2309.13057)</a>.</p>
                        <p>
                            The use of the Calculator is based on return-on-investment (ROI) concepts and formulas that
                            reflect factors in AI ethics principles, regulatory requirements, and industry standards at
                            the time of publication. Such factors may evolve and change over time. Users should review
                            that the implementation of the Calculator remains current for factors related to their use
                            case.</p>
                        <p>
                            Users are solely responsible for the content they input and for use of the results generated
                            by the Calculator. Results will vary depending on user input, and reflect
                            stakeholder-specific perspectives for potential return relative to the ethical investments
                            analyzed. Neither IBM nor the University of Notre Dame make any warranty that such results
                            will be achieved.</p>

                        <!-- Dropdown for additional reference links within the disclaimer -->
                        <p>
                            Additional reference materials:
                            <select id="referenceLinks" onchange="openLink(this)">
                                <option value="">Select...</option>
                            </select>
                        </p>

                    </div>
                </div>

                <!-- Formula container with a help icon -->
                <div class="formula-container" style="position: relative;">
                    <!-- Help icon to show the main help popup -->
                    <div onclick="showHelp()" style="position: absolute; top: 7px; right: 10px; cursor: pointer;">
                        <img src="icons/iconhelp.png" data-tooltip-key="helpInformation" data-tooltip="Help Information"
                            data-tooltip-type="regular" alt="Help Icon" style="width: 33px; height:33px;">
                    </div>
                    <!-- Panel for displaying formula explanations (dynamically updated by JS) -->
                    <div class="formula-leftpanel" id="explanation-panel"></div>
                </div>

                <!-- Help Popup (Initially Hidden) -->
                <div id="helpPopup">
                    <!-- Close button for the help popup -->
                    <button id="closeHelp" onclick="closeHelp()">
                        <img src='icons/close--large.svg'>
                    </button>
                    <h2 id="helpPopupTitle">Holistic Return on AI Ethics Framework Calculator</h2>
                    <!-- Scrollable content area for the help text -->
                    <div id="helpPopupContent"
                        style="max-height: 600px; overflow-y: scroll; font-size:18px; padding: 20px; padding-top:0px;background-color:#fefeff;">
                        <p>Organizations are motivated to implement ethical AI practices for various reasons. For
                            example, because they believe it is the right thing to do or to avoid costs such as lawsuits
                            and fines. You can use this calculator to estimate your potential returns on AI ethics
                            investments, and refer to the paper titled, "The Return on Investment in AI Ethics: A
                            Holistic Framework" (<a href="#"
                                onclick="togglePanel();">https://arxiv.org/pdf/2309.13057</a>) for a deeper
                            understanding of the benefits. The paper proposes a comprehensive approach to understanding
                            the returns on investments in AI ethics.</p>
                        <p>The Holistic Return on AI Ethics framework considers not only direct economic returns but
                            also intangible benefits related to reputation and real options connected to organizational
                            capabilities. This framework is designed to help organizations justify their investments in
                            AI ethics by demonstrating how these investments can lead to cost savings, revenue
                            generation, improved stakeholder perceptions, and enhanced future opportunities.</p>
                        <p class="note-box"><strong>Note</strong>: The return on investments in AI ethics and governance
                            initiatives should be assessed holistically. While this calculator provides a helpful tool
                            for assessing quantifiable returns, a holistic assessment should also include returns and
                            impacts that are qualitative in nature. It is important to consider a broad set of
                            stakeholders and the impact on society at large during the holistic assessment process.</p>
                        <br />
                        <p>AI technologies, while beneficial, pose significant ethical challenges such as bias,
                            fairness, and privacy concerns. Addressing these issues requires substantial investments,
                            which organizations often find difficult to justify without clear evidence of return on
                            investment.</p>
                        <p>The ROI in AI Ethics framework addresses this gap by integrating economic impacts, such as
                            direct
                            financial returns and cost avoidance, with intangible impacts, like improved reputation and
                            stakeholder trust. Additionally, it includes real options that offer future flexibility and
                            adaptability. This approach provides a comprehensive view of how AI ethics investments can
                            contribute to an organization's overall success and sustainability, making it easier to
                            justify and sustain these critical initiatives.</p>
                        <p>In line with this holistic approach, this program uses the formulas provided in the paper to
                            calculate the ROI of AI ethics investments over multiple years. This program prompts users
                            for inputs related to economic returns, reputational returns, and capability returns for
                            each year, as well as the discount factor and initial investment costs.</p>
                        <p>By incorporating these variables, the program computes the ROI by discounting future returns
                            to their present value and summing up the total returns from economic, reputational, and
                            capability investments. This multi-year approach allows organizations to better evaluate the
                            long-term benefits of their AI ethics investments, providing a clearer picture of how these
                            investments impact their overall performance and strategic flexibility.</p>
                    </div>
                    <!-- Signature box for the help popup -->
                    <div id="helpPopupSignature" class="signature-box">
                        <strong>Last updated</strong>: August 30, 2024
                    </div>
                </div>

                <!-- Toolbar Help Popup (Initially Hidden) -->
                <div id="helpFormToolbar">
                    <!-- Close button for the toolbar help popup -->
                    <button onclick="closeToolbarHelp()"
                        style="position:absolute; top: 2px; right: 2px; background: none; border: none; font-size: 16px; cursor: pointer;color:black;">
                        <img src='icons/close--large.svg'>
                    </button>
                    <!-- Title for the toolbar help -->
                    <h2
                        style="padding-left:20px; background-color:white; border-bottom:1px solid #ccc; padding-bottom:0px;">
                        Toolbar Help</h2>
                    <!-- Scrollable content area for toolbar help details -->
                    <div
                        style="max-height: 300px; overflow-y: scroll; font-size:18px; padding: 20px; padding-top:0px;background-color:#fefeff;">
                        <p>The toolbar above the input form has several buttons that help you work with the calculator's
                            input values:</p>

                        <!-- Table-like layout for toolbar button explanations -->
                        <div class="table">
                            <!-- Help With This Toolbar explanation -->
                            <div class="row">
                                <div class="icon-column">
                                    <img class="icon" src="icons/help.svg" alt="Help">
                                </div>
                                <div class="details-column">
                                    <p><strong>Help With This Toolbar</strong>: Brings up this help screen.
                                    <p>
                                </div>
                            </div>
                            <!-- Save Values as Default explanation -->
                            <div class="row">
                                <div class="icon-column">
                                    <img class="icon" src="icons/save.svg" alt="Erase">
                                </div>
                                <div class="details-column">
                                    <p><strong>Save Values as Default</strong>: Pressing this
                                        button saves the current values in the input fields as the default form, which
                                        gets loaded automatically whenever the calculator is reloaded or the browser
                                        is restarted. </p>
                                    <p>This function
                                        stores the values of the form in the browser's local storage, which allows data
                                        to be retained even after the browser is closed and reopened. You
                                        can update the default form at any time by pressing the button again. Upon
                                        saving, the toolbar will display the message "Saved Default Form."</p>
                                    <p>If a default
                                        form has been previously saved, the toolbar will display the message "Loaded
                                        Default Form"
                                        when the calculator is reloaded. </p>
                                </div>
                            </div>
                            <!-- Erase Form explanation -->
                            <div class="row">
                                <div class="icon-column">
                                    <img class="icon" src="icons/erase.svg" alt="Erase">
                                </div>
                                <div class="details-column">
                                    <p><strong>Erase Form</strong>: Pressing this button erases the input form and
                                        displays the message "--- BLANK FORM ---" in the toolbar. Note that
                                        that, if you erase the input form and then save the blank form as the default
                                        form,
                                        the calculator will always come up blank when the page loads, until you save a
                                        different
                                        form as default. Erasing the form does not clear the default form.
                                    <p>
                                </div>
                            </div>
                            <!-- Delete Default Form explanation -->
                            <div class="row">
                                <div class="icon-column">
                                    <img class="icon" src="icons/trash-can.svg" alt="Trash">
                                </div>
                                <div class="details-column">
                                    <p><strong>Delete Default Form</strong>: This deletes the browser's local storage
                                        and therefore the default form.
                                        If you press this button and reload the web page or reopen the browser, you will
                                        see the following message, which
                                        also appears the very first time you use the calculator:
                                    <div class="nolocalstorage"><img src="icons/nolocalstorage.jpg"></div>

                                    The message disappears as soon as you start using the form or the toolbar. If you
                                    later save your form as the default, you will no longer see this message. This is
                                    true
                                    even if you save a blank form as the default. Deleting the default form does not
                                    erase the form.
                                    </p>
                                </div>
                            </div>

                            <!-- Examples and Navigation Controls explanation -->
                            <div class="row">
                                <div class="icon-column">
                                    &nbsp;
                                </div>
                                <div class="details-column">
                                    <p><strong>Examples and Navigation Controls</strong>:
                                        The ROI in AI Ethics calculator comes pre-loaded with 10 examples to help you
                                        better
                                        understand
                                        how the HROE formula works. The Examples Navigation controls are these:</p>
                                    <p><img src="icons/navcontrols.jpg"></p>
                                    <p>
                                        Navigating to an example fills the input form with predefined values and
                                        automatically calculates the ROI. The navigation wraps around, so, if you are
                                        on the last example and click
                                        "Next Example," it will take you back to the first example, which is the one
                                        explained in the paper. Similarly,
                                        if you are on the first example and click "Previous Example," it will take you
                                        to the last example. </p>
                                    <p>These examples are stored in the
                                        <strong>hroe-examples.js</strong> file, located in the <em>scripts</em>
                                        directory. Here is what it looks like:
                                    </p>
                                    <p>
                                        <img src="icons/hroe-examples.jpg" width="70%" height="70%">
                                    </p>
                                    <p>You can edit this file to add new examples, as well as delete or
                                        modify existing ones. Remember to reload the page for your changes to take
                                        effect.</p>
                                    <p>
                                        If you plan to modify the <strong>hroe-examples.js</strong> file, we strongly
                                        recommend making a backup first and keeping the example from the paper as the
                                        first entry.


                                    </p>

                                </div>
                            </div>
                        </div>

                        <!-- Future Feature placeholder -->
                        <div class="row">
                            <div class="icon-column">
                                <img src="icons/settings--edit.svg" alt="Settings" class="icon svgimagedisabled">
                            </div>
                            <div class="details-column">
                                <p><strong>FUTURE FEATURE</strong>: This disabled button is a placeholder for a
                                    tentative future feature that would
                                    allow you to configure and connect to external sources to populate the different
                                    input fields.
                                </p>

                            </div>
                        </div>

                    </div>
                    <div class="signature-box">
                        <strong>Last updated</strong>: August 30, 2024
                    </div>
                </div>


                <!-- Main content area, divided into left and right columns -->
                <div class="columns">
                    <!-- Left column for input forms and toolbar -->
                    <div class="left-column">
                        <!-- Top-right card area, primarily for toolbar and startup message -->
                        <div class="card-top-right">

                            <!-- Container for memory management and navigation controls -->
                            <div class="memory-menu-container">
                                <!-- Erase Form button -->
                                <a class="erase-form-text svgimage" onclick="eraseForm();"><img src="icons/erase.svg"
                                        data-tooltip-key="eraseForm" data-tooltip="Erase Form"
                                        data-tooltip-type="regular"></a>&nbsp;
                                <!-- Delete Default Form button (uses trash-can.svg) -->
                                <a class="erase-form-text svgimage" onclick="deleteLocalStorage();"><img
                                        src="icons/trash-can.svg" data-tooltip-key="deleteDefault"
                                        data-tooltip="Delete Default Form"
                                        data-tooltip-type="regular"></a>&nbsp;&nbsp;&nbsp;
                                <!-- Placeholder for a future disabled settings feature -->
                                <a class="svgimagedisabled"><img src="icons/settings--edit.svg"
                                        data-tooltip-key="futureFeature"
                                        data-tooltip="<strong>--- FUTURE FEATURE ---</strong><br/>Configure Input Sources"
                                        data-tooltip-type="warning"></a>

                                <!-- Container for example navigation controls -->
                                <div class="populate-container">
                                    <!-- First Example button -->
                                    <a class="populate-icon svgimage" onclick="populateWithSampleValues('first');"><img
                                            src="icons/page--first.svg" data-tooltip-key="firstExample"
                                            data-tooltip="First Example (discussed in the paper)"
                                            data-tooltip-type="regular"></a>&nbsp;&nbsp;&nbsp;
                                    <!-- Previous Example button -->
                                    <a class="populate-icon svgimage" onclick="populateWithSampleValues('left');"><img
                                            src="icons/triangle--left--outline.svg" data-tooltip-key="previousExample"
                                            data-tooltip="Previous Example"
                                            data-tooltip-type="regular"></a>&nbsp;&nbsp;&nbsp;
                                    <!-- Message area for example navigation (e.g., "Example 1/10") -->
                                    <div id="exampleMessage">&nbsp;</div>
                                    <!-- Next Example button -->
                                    <a class="populate-icon svgimage" onclick="populateWithSampleValues('right');"><img
                                            src="icons/triangle--right--outline.svg" data-tooltip-key="nextExample"
                                            data-tooltip="Next Example"
                                            data-tooltip-type="regular"></a>&nbsp;&nbsp;&nbsp;
                                    <!-- Last Example button -->
                                    <a class="populate-icon svgimage" onclick="populateWithSampleValues('last');"><img
                                            src="icons/page--last.svg" data-tooltip-key="lastExample"
                                            data-tooltip="Last Example" data-tooltip-type="regular"></a>
                                </div>

                                <!-- Save Values as Default button -->
                                <a class="save-memory-text svgimage" onclick="saveToMemory();"><img src="icons/save.svg"
                                        data-tooltip-key="saveDefault" data-tooltip="Save Values as Default"
                                        data-tooltip-type="regular"></a>
                                <!-- Help With This Toolbar button -->
                                <a class="save-memory-text svgimage" onclick="showToolbarHelp();"><img
                                        src="icons/help.svg" data-tooltip-key="helpToolbar"
                                        data-tooltip="Help With This Toolbar" data-tooltip-type="regular"></a>

                            </div>

                            <!-- Overlay message displayed on startup if no default form is loaded -->
                            <div class="startupMessageOverlay" id="startupMessageOverlay">
                                <div class="startupMessageExcl1 blinkingText">&#10071;</div>
                                <div class="startupMessageText">
                                    <div class="startupMessageLine1">To get started, fill out the form below or click
                                        the</div>
                                    <div class="startupMessageLine2">controls above to navigate through examples.</div>
                                </div>
                            </div>

                        </div>

                        <!-- Form group for Number of Years input -->
                        <div class="form-group" style="margin-top: 20px;">
                            <label id="yrs" for="years">Number of Years:</label>
                            <input type="number" id="years" oninput="validateCommaSeparatedInputs();" min="1"
                                class="field-to-check" onfocus="highlightFormula('years'); updateExplanation('years')"
                                oninput="highlightFormula('years'); updateExplanation('years');"
                                onmouseover="highlightFormula('years'); updateExplanation('years')"
                                onmouseout="clearExplanation()" onkeydown="moveToNextInput(event)"
                                onchange="moveToNextInput(event)">
                        </div>
                        <!-- Form group for Cost of Capital (Discount Rate) input -->
                        <div class="form-group">
                            <label id="costcap" for="discount">Cost of Capital (Discount Rate):</label>
                            <input type="number" step="0.01" id="discount" min="0" max="1" class="field-to-check"
                                onfocus="highlightFormula('discount'); updateExplanation('discount')"
                                oninput="highlightFormula('discount'); updateExplanation('discount');"
                                onmouseover="highlightFormula('discount'); updateExplanation('discount')"
                                onmouseout="clearExplanation()" onkeydown="moveToNextInput(event);"
                                onchange="moveToNextInput(event)">
                        </div>
                        <!-- Fieldset for editable table/chart view toggle -->
                        <fieldset id="editableTableFieldSet" class="outer-group">
                            <legend>
                                <!-- Button to toggle between default input view and editable table view -->
                                <a href="#" id="editableTableViewToggle" onclick="toggleEditableTable()"><img
                                        class="svgimage" height="22px" weight="22px" src="icons/table--split.svg" /></a>
                                <!-- Button to display returns chart -->
                                <a href="#" id="xxxxx" onclick="displayReturnsChart()"><img class="svgimage"
                                        height="22px" weight="22px" src="icons/chart--combo.svg" /></a>

                            </legend>
                            <!-- Default input view for Investments and Returns -->
                            <div id="defaultview">
                                <!-- Investments Section -->
                                <fieldset class="field-group">
                                    <legend id="investments">Investments</legend>
                                    <!-- Initial Investment input -->
                                    <div class="form-group">
                                        <label for="initial_investment">Initial Investment (in millions):</label>
                                        <input type="number" step="0.1" id="initial_investment" min="0"
                                            class="field-to-check"
                                            onfocus="highlightFormula('initial_investment'); updateExplanation('initial_investment');"
                                            oninput="highlightFormula('initial_investment'); updateExplanation('initial_investment');"
                                            onmouseover="highlightFormula('initial_investment'); updateExplanation('initial_investment')"
                                            onmouseout="clearExplanation()" onkeydown="moveToNextInput(event)"
                                            onchange="moveToNextInput(event)">
                                    </div>
                                    <!-- Cost for Capabilities input (comma-separated) -->
                                    <div class="form-group">
                                        <label for="investment_cost">Cost for Capabilities (in millions per
                                            year,
                                            comma-separated):</label>
                                        <input type="text" id="investment_cost"
                                            oninput="validateCommaSeparatedInputs();" class="field-to-check"
                                            pattern="^-?[0-9,]*$"
                                            onfocus="highlightFormula('investment_cost'); updateExplanation('investment_cost')"
                                            oninput="highlightFormula('investment_cost'); updateExplanation('investment_cost');"
                                            onmouseover="highlightFormula('investment_cost'); updateExplanation('investment_cost')"
                                            onmouseout="clearExplanation()" onkeydown="moveToNextInput(event)">
                                    </div>

                                </fieldset>

                                <!-- Returns Section -->
                                <fieldset class="field-group">
                                    <legend id="returns">Returns</legend>
                                    <!-- Economic Returns Sub-section -->
                                    <fieldset class="field-group">
                                        <legend id="economic">Economic Returns</legend>
                                        <!-- Organizational Revenue input (comma-separated) -->
                                        <div class="form-group">
                                            <label for="org_revenues">Organizational Revenue <br />(in millions per
                                                year,
                                                comma-separated):</label>
                                            <input type="text" id="org_revenues"
                                                oninput="validateCommaSeparatedInputs();" pattern="^-?[0-9,]*$"
                                                onfocus="highlightFormula('economic_returns'); updateExplanation('economic_returns');"
                                                oninput="highlightFormula('economic_returns'); updateExplanation('economic_returns'); "
                                                onmouseover="highlightFormula('economic_returns'); updateExplanation('economic_returns')"
                                                onmouseout="clearExplanation()" onkeydown="moveToNextInput(event)">
                                        </div>
                                        <!-- Fine Avoidance Value input (comma-separated percentage) -->
                                        <div class="form-group">
                                            <label for="fine_avoidance">Fine Avoidance Value (in % per year,
                                                comma-separated):</label>
                                            <input type="text" id="fine_avoidance"
                                                oninput="validateCommaSeparatedInputs();" pattern="^-?[0-9,]*$"
                                                onfocus="highlightFormula('fine_avoidance'); updateExplanation('fine_avoidance')"
                                                oninput="highlightFormula('fine_avoidance'); updateExplanation('fine_avoidance');"
                                                onmouseover="highlightFormula('fine_avoidance'); updateExplanation('fine_avoidance')"
                                                onmouseout="clearExplanation()" onkeydown="moveToNextInput(event)">
                                        </div>
                                        <!-- Calculated Economic Return field (read-only) -->
                                        <div class="form-group">
                                            <label for="calc_economic_returns">Economic Return <br />(<em>in millions
                                                    calculated as Revenue * Fine Avoidance %</em>)</label>
                                            <input type="text" id="calc_economic_returns" class="field-to-check"
                                                readonly>
                                        </div>


                                    </fieldset>
                                    <!-- Toggle button for Reputational Returns Fieldset -->
                                    <a id="toggleReputationalIcon"
                                        onclick="toggleBlur('reputationalReturnsFieldset')"><img
                                            class="toggleFormulaIcon svgimage" src="icons/power.svg"></a>
                                    <!-- Reputational Returns Sub-section (can be toggled) -->
                                    <fieldset id="reputationalReturnsFieldset" class="field-group">
                                        <legend id="intangible">Reputational Returns</legend>

                                        <div class="form-group">
                                            <label for="intangible_value">Intangible Returns (in millions per year,
                                                comma-separated):</label>
                                            <input type="text" id="intangible_value"
                                                oninput="validateCommaSeparatedInputs();" class="field-to-check"
                                                pattern="^-?[0-9,]*$"
                                                onfocus="highlightFormula('intangible_value'); updateExplanation('intangible_value')"
                                                oninput="highlightFormula('intangible_value'); updateExplanation('intangible_value');"
                                                onmouseover="highlightFormula('intangible_value'); updateExplanation('intangible_value')"
                                                onchange="updateExplanation('intangible_value')"
                                                onmouseout="clearExplanation()" onkeydown="moveToNextInput(event)">
                                        </div>
                                    </fieldset>
                                    <!-- Toggle button for Capabilities Returns Fieldset -->
                                    <a id="toggleCapabilitiesIcon"
                                        onclick="toggleBlur('capabilitiesReturnsFieldset')"><img
                                            class="toggleFormulaIcon svgimage" src="icons/power.svg"></a>

                                    <!-- Capabilities Returns Sub-section (can be toggled) -->
                                    <fieldset id="capabilitiesReturnsFieldset" class="field-group">
                                        <legend id="capabilities">Returns on Capabilities</legend>

                                        <div class="form-group">
                                            <label for="capability_returns">Capability Returns (in millions per year,
                                                comma-separated):</label>
                                            <input type="text" id="capability_returns"
                                                oninput="validateCommaSeparatedInputs();" class="field-to-check"
                                                pattern="^-?[0-9,]*$"
                                                onfocus="highlightFormula('capability_returns'); updateExplanation('capability_returns')"
                                                oninput="highlightFormula('capability_returns'); updateExplanation('capability_returns');"
                                                onmouseover="highlightFormula('capability_returns'); updateExplanation('capability_returns')"
                                                onmouseout="clearExplanation()" onkeydown="moveToNextInput(event)">
                                        </div>
                                    </fieldset>
                                </fieldset>
                            </div>
                            <!-- Container for the editable table (dynamically generated and toggled) -->
                            <div id="editableTableContainer" style="display: none;">
                                <!-- Table content will be dynamically generated -->
                            </div>
                            <!-- Container for the returns chart (dynamically generated and toggled) -->
                            <div class="chart-container" id="returnsChartContainer" style="display:none;">
                                <canvas id="returnsChart"></canvas>
                            </div>

                        </fieldset>
                    </div>
                    <!-- Right column for formula display and results -->
                    <div class="right-column">
                        <!-- Formula display area -->
                        <div class="formula">
                            <div>
                                <h3 id="hroeformula">ROI in AI Ethics</h3>
                                <div id="paperSection">

                                </div>
                                <!-- The ROI formula is structured here with specific IDs for highlighting -->
                                <div class="fraction" id="formula">

                                    <div class="numerator">
                                        <span id="sum1">
                                            <em>ROI<sub>t,N,m</sub> = <br /><br />
                                                <div class="shift right" style="--shift-value: 12px;">( ∑</div>
                                                <span id="Ny" class="tooltip-target"><sup class="shift right"
                                                        style="--shift-value: 16px;">t+N</sup><sub class="shift left"
                                                        style="--shift-value: 16px;">j=t</sub></span>
                                                <span id="Alpha" class="tooltip-target">
                                                    <div class="shift left enlargefont"
                                                        style="--shift-value: 6px; --fontsize: 30px">α</div><sub
                                                        class="shift left" style="--shift-value: 5px;">j-t</sub>
                                                </span>
                                                [<span id="Re" class="tooltip-target">R<sup class="shift right"
                                                        style="--shift-value:1px;">e</sup><sub class="shift left"
                                                        style="--shift-value: 8px;">j</sub>(I<sub>t</sub>&nbsp;)</span>
                                                + <span id="Rr" class="tooltip-target">R<sup class="shift right"
                                                        style="--shift-value: 2px;">r</sup><sub class="shift left"
                                                        style="--shift-value: 6px;">j</sub>(I<sub>t</sub>&nbsp;)</span>
                                                + ∑<sup class="shift right" style="--shift-value: 6px;">m</sup><sub
                                                    class="shift left" style="--shift-value: 10px;">k=1</sub>
                                                <span id="Rc" class="tooltip-target">R<sup class="shift right"
                                                        style="--shift-value: 2px;">c</sup><sub class="shift left"
                                                        style="--shift-value: 8px;">t,k</sub>(γ<sub>k</sub>
                                                    <div class="shift right" style="--shift-value: 2px;">I</div><sup
                                                        class="shift right" style="--shift-value: 4px;">c</sup><sub
                                                        class="shift left" style="--shift-value:6px;">t</sub>)
                                                </span>])
                                                - (<span id="It1" class="tooltip-target">I<sub>t</sub></span>
                                                + <span id="Ic_t1" class="tooltip-target">I<sup class="shift right"
                                                        style="--shift-value: 2px;">c</sup><sub class="shift left"
                                                        style="--shift-value: 8px;">t</sub>)
                                            </em>
                                        </span>
                                    </div>
                                    <hr id="dividerFull">
                                    <div class="denominator">
                                        <em><span id="It2" class="tooltip-target">I<sub>t</sub></span>
                                            + <span id="Ic_t2" class="tooltip-target">I<sup class="shift right"
                                                    style="--shift-value: 2px;">c</sup><sub class="shift left"
                                                    style="--shift-value: 8px;">t</sub></span></em>
                                    </div>
                                    <!-- Container for the dynamic formula explanation -->
                                    <div id="formulaExplanationContainer">
                                        <div id="formula_explanation">
                                            The full ROI in AI Ethics formula considers Economic Returns, Reputational
                                            Returns, and
                                            Capability Returns, as well as Capability Costs.
                                            It calculates the ROI based on these factors, discounting future
                                            returns using the discount factor.
                                            The formula incorporates:
                                            <ul>
                                                <li>
                                                    <div class="bluefont">Economic Returns (Re)</div>: Returns from
                                                    economic benefits,
                                                    including fine avoidance (e.g., fine received for non-compliance
                                                    with regulation).
                                                </li>
                                                <li>
                                                    <div class="bluefont">Reputational Returns (Rr)</div>: Returns from
                                                    reputation.
                                                </li>
                                                <li>
                                                    <div class="bluefont">Capability Returns (Rc)</div>: Returns from
                                                    increased capabilities.
                                                </li>
                                            </ul>

                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- Area for Calculate ROI button and display of results -->
                        <div class="leftcontainer">
                            <!-- Calculate ROI button -->
                            <div class="hroebutton" id="hroebutton" onclick="calculateHROE()">Calculate ROI</div>
                            <span id="hroeResultDisplay" class="hroe-result"></span>
                            <div id="resultsHeader" style="margin-bottom:25px;display: none;"></div>
                            <!-- Display area for the final ROI value -->
                            <div class="enlargefont" id="hroeDisplay"
                                style="--fontsize: 24px; margin-bottom:45px; display: none;">
                                ROI: <span id="roi_value"></span>
                            </div>
                        </div>
                        <div class="card-top-right">
                        </div>
                        <!-- Results panel, dynamically shown/hidden and blurred -->
                        <div class="results">
                            <div class="bottom-panel">
                                <!-- Container for ROI chart -->
                                <div id="roiChartContainer" class="hidden">
                                    <div id="chartExplanation" class="explanation"></div>
                                    <div id="initial_explanation"></div>
                                </div>
                                <!-- Button to generate PDF of results -->
                                <div style="text-align: center; margin-top: 20px;">
                                    <button id="generatePDFButton" style="display:none;"
                                        onclick="generatePDF()">Generate PDF</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Tooltip element (dynamically shown/hidden) -->
                <div id="tooltip" class="tooltip"></div>
            </div>
            <!-- Back side of the flipper, displaying the research paper -->
            <div class="back">
                <div class="header">
                    <h1>The Return on Investment in AI Ethics: A Holistic Framework</h1>
                    <!-- Button to return to the calculator -->
                    <div class="paperbutton" id="return-calculator" onclick="togglePanel()">Return to Calculator</div>
                </div>
                <!-- iframe to embed the research paper PDF -->
                <iframe src="https://arxiv.org/pdf/2309.13057#zoom=125" title="HROE Paper"></iframe>
            </div>
        </div>
    </div>
    <!-- External JavaScript libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.0/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <!-- Local JavaScript files for calculator logic, translations, and examples -->
    <script src="scripts/hroe.js"></script>
    <script src="scripts/hroe-translations.js"></script>
    <script src="scripts/hroe-examples.js"></script>
</body>

</html>